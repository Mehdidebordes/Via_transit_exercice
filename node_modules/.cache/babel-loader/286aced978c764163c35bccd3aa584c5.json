{"ast":null,"code":"import StopT1 from './assets/images/png/T1.png';\nimport StopT2 from './assets/images/png/T2.png';\nimport StopT3 from './assets/images/png/T3.png';\nimport StopT4 from './assets/images/png/T4.png';\n\nfunction getData() {\n  return JSON.parse(JSON.stringify(require('./data.json')));\n}\n\nfunction getTramLine(stop) {\n  if (stop.line.id == 1) {\n    return StopT1;\n  }\n\n  if (stop.line.id == 2) {\n    return StopT2;\n  }\n\n  if (stop.line.id == 3) {\n    return StopT3;\n  }\n\n  if (stop.line.id == 4) {\n    return StopT4;\n  }\n}\n\nfunction getDepartureOutput(departure) {\n  if (Number(departure.departure) > 120) {\n    return Math.floor(Number(departure.departure) / 60) + \" mins\";\n  } else {\n    return \"proche\";\n  }\n}\n\nfunction setOnRowDepartures() {\n  let index = 0;\n  const data = getData();\n  data.forEach(element => {\n    document.getElementById(String(100 + index)).style.flexDirection = \"row\";\n    index += 1;\n  });\n}\n\nwindow.onload = () => {\n  let tram_index = 0;\n  let tram_head_index = -1;\n  let all_stop_index = 100;\n  const data = getData();\n  data.forEach(stop => {\n    let TramLineAndHeadsignDiv = document.createElement(\"div\");\n    let TramHeadsignDiv = document.createElement(\"div\");\n    let TramIdImg = document.createElement(\"img\");\n    let TramHeadsign = document.createElement(\"div\");\n    TramLineAndHeadsignDiv.setAttribute(\"id\", tram_index);\n    document.getElementById('board').appendChild(TramLineAndHeadsignDiv);\n    TramHeadsignDiv.setAttribute(\"id\", tram_head_index);\n    TramHeadsignDiv.setAttribute(\"class\", \"tram-header\");\n    document.getElementById(tram_index).appendChild(TramHeadsignDiv);\n    TramIdImg.setAttribute(\"src\", getTramLine(stop));\n    document.getElementById(String(tram_head_index)).appendChild(TramIdImg);\n    TramHeadsign.appendChild(document.createTextNode(\"    \" + stop.headsign.toUpperCase()));\n    document.getElementById(String(tram_head_index)).appendChild(TramHeadsign); // let departures = document.createElement(\"div\");\n    // departures.setAttribute(\"class\", \"tram-departures\");\n\n    let AllTramStopsTime = document.createElement(\"div\");\n    AllTramStopsTime.setAttribute(\"id\", all_stop_index);\n    document.getElementById('board').appendChild(AllTramStopsTime);\n    stop.schedules.forEach(departure => {\n      let StopTime = document.createElement(\"div\");\n      StopTime.appendChild(document.createTextNode(getDepartureOutput(departure)));\n      console.log(getDepartureOutput(departure));\n      document.getElementById(String(all_stop_index)).appendChild(StopTime); // departures.appendChild(document.createTextNode(getDepartureOutput(departure)));\n      // document.getElementById(String(tram_index)).appendChild(departures);\n    });\n    all_stop_index += 1;\n    tram_index += 1;\n    tram_head_index -= 1;\n  });\n  setOnRowDepartures();\n};","map":{"version":3,"sources":["/home/jimmy/stage/viatransit_exercice/tecmint-app/src/tram.js"],"names":["StopT1","StopT2","StopT3","StopT4","getData","JSON","parse","stringify","require","getTramLine","stop","line","id","getDepartureOutput","departure","Number","Math","floor","setOnRowDepartures","index","data","forEach","element","document","getElementById","String","style","flexDirection","window","onload","tram_index","tram_head_index","all_stop_index","TramLineAndHeadsignDiv","createElement","TramHeadsignDiv","TramIdImg","TramHeadsign","setAttribute","appendChild","createTextNode","headsign","toUpperCase","AllTramStopsTime","schedules","StopTime","console","log"],"mappings":"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","sourcesContent":["import StopT1 from './assets/images/png/T1.png';\nimport StopT2 from './assets/images/png/T2.png';\nimport StopT3 from './assets/images/png/T3.png';\nimport StopT4 from './assets/images/png/T4.png';\n\nfunction getData() {\n    return (JSON.parse(JSON.stringify(require('./data.json'))));\n}\n\nfunction getTramLine(stop) {\n    if (stop.line.id == 1) {\n        return (StopT1);\n    }\n    if (stop.line.id == 2) {\n        return (StopT2);\n    }\n    if (stop.line.id == 3) {\n        return (StopT3);\n    }\n    if (stop.line.id == 4) {\n        return (StopT4);\n    }\n}\n\nfunction getDepartureOutput(departure) {\n    if (Number(departure.departure) > 120) {\n        return(Math.floor(Number(departure.departure) / 60) + \" mins\")\n    } else {\n        return(\"proche\");\n    }\n}\n\nfunction setOnRowDepartures() {\n    let index = 0\n    const data = getData();\n\n    data.forEach(element => {\n        document.getElementById(String(100 + index)).style.flexDirection = \"row\";\n        index += 1;\n    });\n}\n\nwindow.onload = () => {\n    let tram_index = 0;\n    let tram_head_index = -1;\n    let all_stop_index = 100;\n    const data = getData();\n\n    data.forEach(stop => {\n        let TramLineAndHeadsignDiv = document.createElement(\"div\");\n        let TramHeadsignDiv = document.createElement(\"div\");\n        let TramIdImg = document.createElement(\"img\");\n        let TramHeadsign = document.createElement(\"div\");\n\n        TramLineAndHeadsignDiv.setAttribute(\"id\", tram_index);\n        document.getElementById('board').appendChild(TramLineAndHeadsignDiv);\n        TramHeadsignDiv.setAttribute(\"id\", tram_head_index);\n        TramHeadsignDiv.setAttribute(\"class\", \"tram-header\");\n        document.getElementById(tram_index).appendChild(TramHeadsignDiv);\n        TramIdImg.setAttribute(\"src\", getTramLine(stop));\n        document.getElementById(String(tram_head_index)).appendChild(TramIdImg);\n        TramHeadsign.appendChild(document.createTextNode(\"    \" + stop.headsign.toUpperCase()));\n        document.getElementById(String(tram_head_index)).appendChild(TramHeadsign);\n\n        // let departures = document.createElement(\"div\");\n        // departures.setAttribute(\"class\", \"tram-departures\");\n\n        let AllTramStopsTime = document.createElement(\"div\");\n        AllTramStopsTime.setAttribute(\"id\", all_stop_index);\n        document.getElementById('board').appendChild(AllTramStopsTime);\n\n        stop.schedules.forEach(departure => {\n            let StopTime = document.createElement(\"div\");\n            StopTime.appendChild(document.createTextNode(getDepartureOutput(departure)));\n            console.log(getDepartureOutput(departure));\n            document.getElementById(String(all_stop_index)).appendChild(StopTime);\n            // departures.appendChild(document.createTextNode(getDepartureOutput(departure)));\n            // document.getElementById(String(tram_index)).appendChild(departures);\n        })\n        all_stop_index += 1;\n        tram_index += 1;\n        tram_head_index -= 1;\n    });\n    setOnRowDepartures();\n}"]},"metadata":{},"sourceType":"module"}