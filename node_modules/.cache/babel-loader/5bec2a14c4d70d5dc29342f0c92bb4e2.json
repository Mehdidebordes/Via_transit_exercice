{"ast":null,"code":"import StopT1 from './assets/images/png/T1.png';\nimport StopT2 from './assets/images/png/T2.png';\nimport StopT3 from './assets/images/png/T3.png';\nimport StopT4 from './assets/images/png/T4.png';\n\nfunction getData() {\n  return JSON.parse(JSON.stringify(require('./data.json')));\n}\n\nfunction getTramLine(stop) {\n  if (stop.line.id == 1) {\n    return StopT1;\n  }\n\n  if (stop.line.id == 2) {\n    return StopT2;\n  }\n\n  if (stop.line.id == 3) {\n    return StopT3;\n  }\n\n  if (stop.line.id == 4) {\n    return StopT4;\n  }\n}\n\nfunction getDepartureOutput(departure) {\n  if (Number(departure.departure) > 120) {\n    return Math.floor(Number(departure.departure) / 60) + \" mins\";\n  } else {\n    return \"proche\";\n  }\n}\n\nfunction adaptBoardSize(data) {\n  let index = 0;\n  data.forEach(stop => {\n    document.getElementById('App-board').style.height = 100 + index * 60;\n  });\n}\n\nwindow.onload = () => {\n  let tram_index = 0;\n  let tram_head_index = -1;\n  const data = getData();\n  adaptBoardSize(data);\n  data.forEach(tram => {\n    let head_div = document.createElement(\"div\");\n    head_div.setAttribute(\"id\", tram_index);\n    document.getElementById('board').appendChild(head_div);\n    let tramHead = document.createElement(\"div\");\n    tramHead.setAttribute(\"id\", tram_head_index);\n    tramHead.setAttribute(\"class\", \"tram-header\");\n    document.getElementById(tram_index).appendChild(tramHead);\n    let img = document.createElement(\"img\");\n    img.setAttribute(\"src\", getTramLine(tram));\n    document.getElementById(String(tram_head_index)).appendChild(img);\n    let div = document.createElement(\"div\");\n    div.appendChild(document.createTextNode(\"    \" + tram.headsign.toUpperCase()));\n    document.getElementById(String(tram_head_index)).appendChild(div);\n    let departures = document.createElement(\"div\");\n    departures.setAttribute(\"class\", \"tram-departures\");\n    stop.schedules.forEach(departure => {\n      departures.appendChild(document.createTextNode(getDepartureOutput(departure)));\n      document.getElementById(String(tram_index)).appendChild(departures);\n    });\n    tram_index += 1;\n    tram_head_index -= 1;\n  });\n};","map":{"version":3,"sources":["/home/jimmy/stage/viatransit_exercice/tecmint-app/src/tram.js"],"names":["StopT1","StopT2","StopT3","StopT4","getData","JSON","parse","stringify","require","getTramLine","stop","line","id","getDepartureOutput","departure","Number","Math","floor","adaptBoardSize","data","index","forEach","document","getElementById","style","height","window","onload","tram_index","tram_head_index","tram","head_div","createElement","setAttribute","appendChild","tramHead","img","String","div","createTextNode","headsign","toUpperCase","departures","schedules"],"mappings":"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","sourcesContent":["import StopT1 from './assets/images/png/T1.png';\nimport StopT2 from './assets/images/png/T2.png';\nimport StopT3 from './assets/images/png/T3.png';\nimport StopT4 from './assets/images/png/T4.png';\n\nfunction getData() {\n    return (JSON.parse(JSON.stringify(require('./data.json'))));\n}\n\nfunction getTramLine(stop) {\n    if (stop.line.id == 1) {\n        return (StopT1);\n    }\n    if (stop.line.id == 2) {\n        return (StopT2);\n    }\n    if (stop.line.id == 3) {\n        return (StopT3);\n    }\n    if (stop.line.id == 4) {\n        return (StopT4);\n    }\n}\n\nfunction getDepartureOutput(departure) {\n    if (Number(departure.departure) > 120) {\n        return(Math.floor(Number(departure.departure) / 60) + \" mins\")\n    } else {\n        return(\"proche\");\n    }\n}\n\nfunction adaptBoardSize(data) {\n    let index = 0;\n\n    data.forEach(stop => {\n        document.getElementById('App-board').style.height = 100 + (index * 60);\n    })\n}\n\nwindow.onload = () => {\n    let tram_index = 0;\n    let tram_head_index = -1;\n    const data = getData();\n\n    adaptBoardSize(data);\n\n    data.forEach(tram => {\n        let head_div = document.createElement(\"div\");\n        head_div.setAttribute(\"id\", tram_index);\n        document.getElementById('board').appendChild(head_div);\n\n        let tramHead = document.createElement(\"div\");\n        tramHead.setAttribute(\"id\", tram_head_index);\n        tramHead.setAttribute(\"class\", \"tram-header\");\n        document.getElementById(tram_index).appendChild(tramHead);\n\n        let img = document.createElement(\"img\");\n        img.setAttribute(\"src\", getTramLine(tram));\n        document.getElementById(String(tram_head_index)).appendChild(img);\n\n        let div = document.createElement(\"div\");\n        div.appendChild(document.createTextNode(\"    \" + tram.headsign.toUpperCase()));\n        document.getElementById(String(tram_head_index)).appendChild(div);\n\n        let departures = document.createElement(\"div\");\n        departures.setAttribute(\"class\", \"tram-departures\");\n        stop.schedules.forEach(departure => {\n            departures.appendChild(document.createTextNode(getDepartureOutput(departure)));\n            document.getElementById(String(tram_index)).appendChild(departures);\n        })\n        tram_index += 1;\n        tram_head_index -= 1;\n    });\n}"]},"metadata":{},"sourceType":"module"}