{"ast":null,"code":"import StopT1 from './assets/images/png/T1.png';\nimport StopT2 from './assets/images/png/T2.png';\nimport StopT3 from './assets/images/png/T3.png';\nimport StopT4 from './assets/images/png/T4.png';\n\nfunction getData() {\n  return JSON.parse(JSON.stringify(require('./data.json')));\n}\n\nfunction getDepartureOutput(departure) {\n  if (Number(departure.departure) > 120) {\n    return Math.floor(Number(departure.departure) / 60) + \" mins\";\n  } else {\n    return \"proche\";\n  }\n}\n\nfunction getTramLine(stop) {\n  if (stop.line.id == 1) {\n    return StopT1;\n  }\n\n  if (stop.line.id == 2) {\n    return StopT2;\n  }\n\n  if (stop.line.id == 3) {\n    return StopT3;\n  }\n\n  if (stop.line.id == 4) {\n    return StopT4;\n  }\n}\n\nfunction attributePos(StopTime, posInBoard) {\n  if (posInBoard == 0) {\n    StopTime.setAttribute(\"class\", \"posOne\");\n  } else if (posInBoard == 1) {\n    StopTime.setAttribute(\"class\", \"posTwo\");\n  } else if (posInBoard == 2) {\n    StopTime.setAttribute(\"class\", \"posThree\");\n  }\n}\n\nwindow.onload = () => {\n  let tram_index = 0;\n  let tram_head_index = -1;\n  let all_stop_index = 100;\n  let posInBoard = 0;\n  const data = getData();\n  data.forEach(stop => {\n    let Tram_Elem_Head = doc.createElement(\"div\");\n    let Tram_Sign_Div = doc.createElement(\"div\");\n    let Tram_img = doc.createElement(\"img\");\n    let Tram_Sign = doc.createElement(\"div\");\n    Tram_Elem_Head.setAttribute(\"id\", tram_index);\n    doc.getElementById('board').appendChild(Tram_Elem_Head);\n    Tram_Sign_Div.setAttribute(\"id\", tram_head_index);\n    Tram_Sign_Div.setAttribute(\"class\", \"tram-header\");\n    doc.getElementById(tram_index).appendChild(Tram_Sign_Div);\n    Tram_img.setAttribute(\"src\", getTramLine(stop));\n    doc.getElementById(String(tram_head_index)).appendChild(Tram_img);\n    Tram_Sign.appendChild(doc.createTextNode(\"    \" + stop.headsign.toUpperCase()));\n    doc.getElementById(String(tram_head_index)).appendChild(Tram_Sign);\n    let Tram_timer = doc.createElement(\"div\");\n    Tram_timer.setAttribute(\"id\", all_stop_index);\n    Tram_timer.setAttribute(\"class\", \"Tram-Dep\");\n    doc.getElementById('board').appendChild(Tram_timer);\n    stop.schedules.forEach(departure => {\n      let StopTime = doc.createElement(\"div\");\n      StopTime.appendChild(doc.createTextNode(getDepartureOutput(departure)));\n      attributePos(StopTime, posInBoard);\n\n      if (getDepartureOutput(departure) === \"proche\") {\n        StopTime.setAttribute(\"style\", \"color: green;\");\n      }\n\n      doc.getElementById(String(all_stop_index)).appendChild(StopTime);\n      posInBoard += 1;\n    });\n    posInBoard = 0;\n    all_stop_index += 1;\n    tram_index += 1;\n    tram_head_index -= 1;\n  });\n};","map":{"version":3,"sources":["/home/mehdi/wololo/ViaTransit_TramDepartures-master/src/tram.js"],"names":["StopT1","StopT2","StopT3","StopT4","getData","JSON","parse","stringify","require","getDepartureOutput","departure","Number","Math","floor","getTramLine","stop","line","id","attributePos","StopTime","posInBoard","setAttribute","window","onload","tram_index","tram_head_index","all_stop_index","data","forEach","Tram_Elem_Head","doc","createElement","Tram_Sign_Div","Tram_img","Tram_Sign","getElementById","appendChild","String","createTextNode","headsign","toUpperCase","Tram_timer","schedules"],"mappings":"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","sourcesContent":["import StopT1 from './assets/images/png/T1.png';\nimport StopT2 from './assets/images/png/T2.png';\nimport StopT3 from './assets/images/png/T3.png';\nimport StopT4 from './assets/images/png/T4.png';\n\nfunction getData() {\n    return (JSON.parse(JSON.stringify(require('./data.json'))));\n}\n\n\nfunction getDepartureOutput(departure) {\n    if (Number(departure.departure) > 120) {\n        return(Math.floor(Number(departure.departure) / 60) + \" mins\")\n    } else {\n        return(\"proche\");\n    }\n}\n\nfunction getTramLine(stop) {\n    if (stop.line.id == 1) {\n        return (StopT1);\n    }\n    if (stop.line.id == 2) {\n        return (StopT2);\n    }\n    if (stop.line.id == 3) {\n        return (StopT3);\n    }\n    if (stop.line.id == 4) {\n        return (StopT4);\n    }\n}\nfunction attributePos(StopTime, posInBoard) {\n    if (posInBoard == 0) {\n        StopTime.setAttribute(\"class\", \"posOne\");\n    } else if (posInBoard == 1) {\n        StopTime.setAttribute(\"class\", \"posTwo\");\n    } else if (posInBoard == 2) {\n        StopTime.setAttribute(\"class\", \"posThree\");\n    }\n}\n\nwindow.onload = () => {\n    let tram_index = 0;\n    let tram_head_index = -1;\n    let all_stop_index = 100;\n    let posInBoard = 0;\n    const data = getData();\n\n    data.forEach(stop => {\n        let Tram_Elem_Head = doc.createElement(\"div\");\n        let Tram_Sign_Div = doc.createElement(\"div\");\n        let Tram_img = doc.createElement(\"img\");\n        let Tram_Sign = doc.createElement(\"div\");\n\n        Tram_Elem_Head.setAttribute(\"id\", tram_index);\n        doc.getElementById('board').appendChild(Tram_Elem_Head);\n        Tram_Sign_Div.setAttribute(\"id\", tram_head_index);\n        Tram_Sign_Div.setAttribute(\"class\", \"tram-header\");\n        doc.getElementById(tram_index).appendChild(Tram_Sign_Div);\n        Tram_img.setAttribute(\"src\", getTramLine(stop));\n        doc.getElementById(String(tram_head_index)).appendChild(Tram_img);\n        Tram_Sign.appendChild(doc.createTextNode(\"    \" + stop.headsign.toUpperCase()));\n        doc.getElementById(String(tram_head_index)).appendChild(Tram_Sign);\n\n        let Tram_timer = doc.createElement(\"div\");\n        Tram_timer.setAttribute(\"id\", all_stop_index);\n        Tram_timer.setAttribute(\"class\", \"Tram-Dep\");\n        doc.getElementById('board').appendChild(Tram_timer);\n        stop.schedules.forEach(departure => {\n            let StopTime = doc.createElement(\"div\");\n            StopTime.appendChild(doc.createTextNode(getDepartureOutput(departure)));\n            attributePos(StopTime, posInBoard);\n            if (getDepartureOutput(departure) === \"proche\") {\n                StopTime.setAttribute(\"style\", \"color: green;\");\n            }\n            doc.getElementById(String(all_stop_index)).appendChild(StopTime);\n            posInBoard += 1;\n        })\n        posInBoard = 0;\n        all_stop_index += 1;\n        tram_index += 1;\n        tram_head_index -= 1;\n    });\n}"]},"metadata":{},"sourceType":"module"}