{"ast":null,"code":"import StopT1 from './assets/images/png/T1.png';\nimport StopT2 from './assets/images/png/T2.png';\nimport StopT3 from './assets/images/png/T3.png';\nimport StopT4 from './assets/images/png/T4.png';\n\nfunction Read_Json() {\n  return JSON.parse(JSON.stringify(require('./data.json')));\n}\n\n_c = Read_Json;\n\nfunction Pos_Timer_stop(StopTime, Pos_tram) {\n  if (Pos_tram == 0) {\n    StopTime.setAttribute(\"class\", \"posOne\");\n  } else if (Pos_tram == 1) {\n    StopTime.setAttribute(\"class\", \"posTwo\");\n  } else if (Pos_tram == 2) {\n    StopTime.setAttribute(\"class\", \"posThree\");\n  }\n}\n\n_c2 = Pos_Timer_stop;\n\nfunction Line_checker(stop) {\n  if (stop.line.id == 1) return StopT1;\n  if (stop.line.id == 2) return StopT2;\n  if (stop.line.id == 3) return StopT3;\n  if (stop.line.id == 4) return StopT4;\n}\n\n_c3 = Line_checker;\n\nfunction Display_tram_timer(stop) {\n  if (Number(stop.stop) > 120) return Math.floor(Number(stop.stop) / 60) + \" mins\";else return \"proche\";\n}\n\n_c4 = Display_tram_timer;\n\nwindow.onload = () => {\n  let tram_index = 0;\n  let tram_head_index = -1;\n  let all_stop_index = 100;\n  let Pos_tram = 0;\n  const data = Read_Json();\n  data.forEach(stop => {\n    let Tram_Elem_Head = document.createElement(\"div\");\n    let Tram_Sign_Div = document.createElement(\"div\");\n    let Tram_img = document.createElement(\"img\");\n    let Tram_Sign = document.createElement(\"div\");\n    Tram_Elem_Head.setAttribute(\"id\", tram_index);\n    document.getElementById('board').appendChild(Tram_Elem_Head);\n    Tram_Sign_Div.setAttribute(\"id\", tram_head_index);\n    Tram_Sign_Div.setAttribute(\"class\", \"tram-header\");\n    document.getElementById(tram_index).appendChild(Tram_Sign_Div);\n    Tram_img.setAttribute(\"src\", Line_checker(stop));\n    document.getElementById(String(tram_head_index)).appendChild(Tram_img);\n    Tram_Sign.appendChild(document.createTextNode(\"    \" + stop.headsign.toUpperCase()));\n    document.getElementById(String(tram_head_index)).appendChild(Tram_Sign);\n    let Tram_timer = document.createElement(\"div\");\n    Tram_timer.setAttribute(\"id\", all_stop_index);\n    Tram_timer.setAttribute(\"class\", \"Tram-Dep\");\n    document.getElementById('board').appendChild(Tram_timer);\n    stop.schedules.forEach(stop => {\n      let StopTime = document.createElement(\"div\");\n      StopTime.appendChild(document.createTextNode(Display_tram_timer(stop)));\n      Pos_Timer_stop(StopTime, Pos_tram);\n\n      if (Display_tram_timer(stop) === \"proche\") {\n        StopTime.setAttribute(\"style\", \"color: green;\");\n      }\n\n      document.getElementById(String(all_stop_index)).appendChild(StopTime);\n      Pos_tram += 1;\n    });\n    Pos_tram = 0;\n    all_stop_index += 1;\n    tram_index += 1;\n    tram_head_index -= 1;\n  });\n};\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Read_Json\");\n$RefreshReg$(_c2, \"Pos_Timer_stop\");\n$RefreshReg$(_c3, \"Line_checker\");\n$RefreshReg$(_c4, \"Display_tram_timer\");","map":{"version":3,"sources":["/home/mehdi/wololo/ViaTransit_TramDepartures-master/src/tram.js"],"names":["StopT1","StopT2","StopT3","StopT4","Read_Json","JSON","parse","stringify","require","Pos_Timer_stop","StopTime","Pos_tram","setAttribute","Line_checker","stop","line","id","Display_tram_timer","Number","Math","floor","window","onload","tram_index","tram_head_index","all_stop_index","data","forEach","Tram_Elem_Head","document","createElement","Tram_Sign_Div","Tram_img","Tram_Sign","getElementById","appendChild","String","createTextNode","headsign","toUpperCase","Tram_timer","schedules"],"mappings":"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","sourcesContent":["import StopT1 from './assets/images/png/T1.png';\nimport StopT2 from './assets/images/png/T2.png';\nimport StopT3 from './assets/images/png/T3.png';\nimport StopT4 from './assets/images/png/T4.png';\n\nfunction Read_Json() {\n    return (JSON.parse(JSON.stringify(require('./data.json'))));\n}\n\nfunction Pos_Timer_stop(StopTime, Pos_tram) {\n    if (Pos_tram == 0) {\n        StopTime.setAttribute(\"class\", \"posOne\");\n    } else if (Pos_tram == 1) {\n        StopTime.setAttribute(\"class\", \"posTwo\");\n    } else if (Pos_tram == 2) {\n        StopTime.setAttribute(\"class\", \"posThree\");\n    }\n}\n\nfunction Line_checker(stop) {\n    if (stop.line.id == 1)\n    return (StopT1);\n    if (stop.line.id == 2)\n    return (StopT2);\n    if (stop.line.id == 3)\n    return (StopT3);\n    if (stop.line.id == 4)\n    return (StopT4);\n}\n\n\nfunction Display_tram_timer(stop) {\n    if (Number(stop.stop) > 120)\n        return(Math.floor(Number(stop.stop) / 60) + \" mins\")\n    else\n        return(\"proche\");\n}\n\nwindow.onload = () => {\n    let tram_index = 0;\n    let tram_head_index = -1;\n    let all_stop_index = 100;\n    let Pos_tram = 0;\n    const data = Read_Json();\n\n    data.forEach(stop => {\n        let Tram_Elem_Head = document.createElement(\"div\");\n        let Tram_Sign_Div = document.createElement(\"div\");\n        let Tram_img = document.createElement(\"img\");\n        let Tram_Sign = document.createElement(\"div\");\n\n        Tram_Elem_Head.setAttribute(\"id\", tram_index);\n        document.getElementById('board').appendChild(Tram_Elem_Head);\n        Tram_Sign_Div.setAttribute(\"id\", tram_head_index);\n        Tram_Sign_Div.setAttribute(\"class\", \"tram-header\");\n        document.getElementById(tram_index).appendChild(Tram_Sign_Div);\n        Tram_img.setAttribute(\"src\", Line_checker(stop));\n        document.getElementById(String(tram_head_index)).appendChild(Tram_img);\n        Tram_Sign.appendChild(document.createTextNode(\"    \" + stop.headsign.toUpperCase()));\n        document.getElementById(String(tram_head_index)).appendChild(Tram_Sign);\n\n        let Tram_timer = document.createElement(\"div\");\n        Tram_timer.setAttribute(\"id\", all_stop_index);\n        Tram_timer.setAttribute(\"class\", \"Tram-Dep\");\n        document.getElementById('board').appendChild(Tram_timer);\n        \n        stop.schedules.forEach(stop => {\n            let StopTime = document.createElement(\"div\");\n            StopTime.appendChild(document.createTextNode(Display_tram_timer(stop)));\n            Pos_Timer_stop(StopTime, Pos_tram);\n            if (Display_tram_timer(stop) === \"proche\") {\n                StopTime.setAttribute(\"style\", \"color: green;\");\n            }\n            document.getElementById(String(all_stop_index)).appendChild(StopTime);\n            Pos_tram += 1;\n        })\n        Pos_tram = 0;\n        all_stop_index += 1;\n        tram_index += 1;\n        tram_head_index -= 1;\n    });\n}"]},"metadata":{},"sourceType":"module"}